(this["webpackJsonpface-detection-demo"]=this["webpackJsonpface-detection-demo"]||[]).push([[0],{15:function(e,n,t){e.exports=t(34)},20:function(e,n,t){},22:function(e,n,t){e.exports=t.p+"static/media/logo.ee7cd8ed.svg"},23:function(e,n,t){},30:function(e,n){},31:function(e,n){},32:function(e,n){},34:function(e,n,t){"use strict";t.r(n);var r=t(2),o=t.n(r),a=t(13),c=t.n(a),s=(t(20),t(8)),i=t(3),u=t.n(i),f=t(7),l=(t(22),t(23),t(14)),d=t.n(l),p=t(4),m=[],h=function(){var e=Object(f.a)(u.a.mark((function e(n,t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:m[r]&&setTimeout((function(){return h(n,t,r)}),t);case 3:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}();var v=function(){var e=Object(r.useState)(!1),n=Object(s.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(0),i=Object(s.a)(c,2),l=i[0],v=i[1],b=Object(r.useState)(!1),g=Object(s.a)(b,2),w=g[0],j=g[1],k=Object(r.useRef)(null);Object(r.useEffect)((function(){k&&(console.log("Cargando Modelos"),Promise.all([p.c.tinyFaceDetector.load("/models"),p.c.faceLandmark68TinyNet.load("./models"),p.c.faceRecognitionNet.load("./models")]).then((function(){console.log("Modelos Cargados"),a(!0)})).catch((function(e){console.log(e),a(!1)})))}),[k]),Object(r.useEffect)((function(){if(t&&w){if(!1===p.c.tinyFaceDetector.isLoaded)return console.log("no se cargo!"),a(!1);var e=function(e,n){if(e&&"function"===typeof e){var t=m.length;return m.push(!0),h(e,n,t),t}throw new Error("Callback must be a function")}(Object(f.a)(u.a.mark((function e(){var n,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.current.video){e.next=3;break}return console.log("Algo pasa con la cam"),e.abrupt("return");case 3:return n=k.current.video,e.prev=4,t=function(){return new Promise(function(){var e=Object(f.a)(u.a.mark((function e(t,r){var o,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!1,setTimeout((function(){return o=!0,r()}),1e3),e.next=4,p.b(n,new p.a);case 4:if(a=e.sent,o){e.next=8;break}return v(a.length),e.abrupt("return",t());case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())},e.next=8,t();case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])}))),1e3);return function(){var n;m[n=e]&&(m[n]=!1)}}}),[t,w]);var O=l+" caras detectadas",x="red";return l>0&&(x="#54f542"),o.a.createElement("div",{className:"App"},o.a.createElement("p",{className:"mensaje",style:{backgroundColor:x}},O),o.a.createElement(d.a,{className:"App",ref:k,videoConstraints:{width:1280,height:720,facingMode:"user"},audio:!1,onUserMedia:function(){return j(!0)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.052833b2.chunk.js.map